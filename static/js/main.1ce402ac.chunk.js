(this.webpackJsonptwain=this.webpackJsonptwain||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(1),r=n.n(a),s=n(31),i=n.n(s),o=n(17),l=n.n(o),j=n(22),u=n(13),b=n(67),d=(n(83),b.a.initializeApp({apiKey:"AIzaSyA47WLJAi0wOetRZjrwjrhh1mA-Mg-GEg8",authDomain:"twain-e482e.firebaseapp.com",projectId:"twain-e482e",storageBucket:"twain-e482e.appspot.com",messagingSenderId:"170611662014",appId:"1:170611662014:web:40817da3b18789761a12ef",measurementId:"G-85YSKZ7M1P"}).auth()),h=b.a,O=r.a.createContext();function p(){return Object(a.useContext)(O)}function f(e){var t=e.children,n=Object(a.useState)(),r=Object(u.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!0),b=Object(u.a)(o,2),p=b[0],f=b[1];function x(){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.setPersistence(h.auth.Auth.Persistence.SESSION);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),t=e.t0.message,console.log("in setPersistence "+t);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:return e.next=5,d.signInWithEmailAndPassword(t,n);case 5:console.log("sign-in complete"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),a=e.t0.message,c(a),console.log("in login"+a);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Object(a.useEffect)((function(){return d.onAuthStateChanged((function(e){i(e),f(!1)}))}),[]);var g={currentUser:s,signup:function(e,t,n){return d.createUserWithEmailAndPassword(e,t).catch((function(e){var t=e.message;n(t)}))},login:function(e,t,n){return v.apply(this,arguments)},logout:function(){return d.signOut()},resetPassword:function(e,t){return d.sendPasswordResetEmail(e).catch((function(e){var n=e.message;t(n)}))},updateEmail:function(e,t){s.updateEmail(e).catch((function(e){var n=e.message;t(n)}))},updatePassword:function(e,t){s.updatePassword(e).catch((function(e){var n=e.message;t(n)}))}};return Object(c.jsx)(O.Provider,{value:g,children:!p&&t})}var x=n(21),m=n(16),v=n.p+"static/media/logo.9fbe981f.png",g=n(99),w=n(100),y=n(71),S=n(101),C=n(108),k=n(98),N=n(105),P=n(72);n(51);function R(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),s=p().signup,i=Object(a.useState)(""),o=Object(u.a)(i,2),b=o[0],d=o[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),f=O[0],m=O[1],v=function(e){d(e)};function g(){return(g=Object(j.a)(l.a.mark((function c(a){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){c.next=3;break}return c.abrupt("return",d("Passwords do not match"));case 3:return c.prev=3,d(""),m(!0),c.next=8,s(t.current.value,n.current.value,v);case 8:e.onSwitch("login"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),d(b);case 14:m(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)(C.a,{className:"p-2 shadow",children:[Object(c.jsxs)(C.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),b&&Object(c.jsx)(k.a,{variant:"danger",children:b}),Object(c.jsxs)(N.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(c.jsxs)(N.a.Group,{id:"email",children:[Object(c.jsx)(N.a.Label,{children:"Email"}),Object(c.jsx)(N.a.Control,{type:"email",ref:t,required:!0})]}),Object(c.jsxs)(N.a.Group,{id:"password",children:[Object(c.jsx)(N.a.Label,{children:"Password"}),Object(c.jsx)(N.a.Control,{type:"password",ref:n,required:!0})]}),Object(c.jsxs)(N.a.Group,{id:"password-confrim",children:[Object(c.jsx)(N.a.Label,{children:"Password Confrimation"}),Object(c.jsx)(N.a.Control,{type:"password",ref:r,required:!0})]}),Object(c.jsx)(P.a,{disable:f,variant:"primary",style:{color:"#fff"},className:"w-100 btn-lg",type:"submit",children:"Sign Up"})]})]}),Object(c.jsx)(C.a.Footer,{style:{backgroundColor:"#fff"},children:Object(c.jsx)("div",{className:"w-100 text-center mb-2",children:Object(c.jsx)(x.b,{className:"btn btn-secondary col-md-10 btn-lg",style:{color:"#fff"},to:"/",onClick:function(){e.onSwitch("login")},children:"Log In"})})})]})})}n(89),n(90);function L(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=p().login,s=Object(a.useState)(""),i=Object(u.a)(s,2),o=i[0],b=i[1],d=Object(a.useState)(!1),h=Object(u.a)(d,2),O=h[0],f=h[1],v=Object(m.g)(),g=function(e){b(e)};function w(){return(w=Object(j.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,b(""),f(!0),e.next=6,r(t.current.value,n.current.value,g);case 6:v.push("/twain"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b(o);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)(C.a,{className:"p-2 shadow",children:[Object(c.jsxs)(C.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",style:{color:"#35221B"},children:"Log In"}),o&&Object(c.jsx)(k.a,{variant:"danger",children:o}),Object(c.jsxs)(N.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(c.jsxs)(N.a.Group,{id:"email",children:[Object(c.jsx)(N.a.Label,{children:"Email"}),Object(c.jsx)(N.a.Control,{type:"email",ref:t,required:!0})]}),Object(c.jsxs)(N.a.Group,{id:"password",children:[Object(c.jsx)(N.a.Label,{children:"Password"}),Object(c.jsx)(N.a.Control,{type:"password",ref:n,required:!0})]}),Object(c.jsx)(P.a,{disable:O,className:"w-100 btn-lg",style:{color:"#fff"},type:"submit",children:"Log In"})]})]}),Object(c.jsxs)(C.a.Footer,{style:{backgroundColor:"#fff"},children:[Object(c.jsx)("div",{className:"w-100 text-center mt-2",children:Object(c.jsx)(x.b,{to:"/",style:{color:"#fff"},className:"btn btn-secondary col-md-10 btn-lg",onClick:function(){e.onSwitch("signup")},children:"Sign up"})}),Object(c.jsx)("div",{className:"w-100 text-center mt-2",children:Object(c.jsx)(x.b,{to:"/",onClick:function(){e.onSwitch("forgotpassword")},children:"Forgot Password?"})})]})]})})}function F(e){var t=Object(a.useRef)(),n=p().resetPassword,r=Object(a.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],b=Object(a.useState)(!1),d=Object(u.a)(b,2),h=d[0],O=d[1],f=Object(a.useState)(""),m=Object(u.a)(f,2),v=m[0],g=m[1],w=function(e){o(e)};function y(){return(y=Object(j.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,g(""),o(""),O(!0),e.next=7,n(t.current.value,w);case 7:g("Check your inbox for further information"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o(i);case 13:O(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)(C.a,{className:"p-2 shadow",children:[Object(c.jsxs)(C.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),i&&Object(c.jsx)(k.a,{variant:"danger",children:i}),v&&Object(c.jsx)(k.a,{variant:"success",children:v}),Object(c.jsxs)(N.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(c.jsxs)(N.a.Group,{id:"email",children:[Object(c.jsx)(N.a.Label,{children:"Email"}),Object(c.jsx)(N.a.Control,{type:"email",ref:t,required:!0})]}),Object(c.jsx)(P.a,{disable:h,className:"w-100 btn-lg",style:{color:"#fff"},type:"submit",children:"Reset Password"})]})]}),Object(c.jsx)(C.a.Footer,{style:{backgroundColor:"#fff"},children:Object(c.jsx)("div",{className:"w-100 text-center",children:Object(c.jsx)(x.b,{to:"/",onClick:function(){e.onSwitch("login")},children:"Back to Log in"})})})]})})}function E(){var e=function(e){s(e)},t=Object(a.useState)("signup"),n=Object(u.a)(t,2),r=n[0],s=n[1];return Object(c.jsx)("div",{className:"row justify-content-center align-items-center",style:{backgroundColor:"#FDF4F1",height:"100vh"},children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{className:"justify-content-center align-items-center",children:[Object(c.jsx)(y.a,{md:5,children:Object(c.jsx)(S.a,{src:v,className:"mx-auto d-block Logo",alt:"Logo",fluid:!0})}),Object(c.jsxs)(y.a,{md:{span:5,offset:1},className:"Signup p-4",children:["signup"===r&&Object(c.jsx)(R,{onSwitch:e}),"login"===r&&Object(c.jsx)(L,{onSwitch:e}),"forgotpassword"===r&&Object(c.jsx)(F,{onSwitch:e})]})]})})})}var B=n(106),G=n(107),I=n(103),U=n.p+"static/media/logo.128cc170.svg";function A(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],s=n[1],i=p().logout,o=Object(m.g)();function b(){return(b=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,i();case 4:console.log(r),o.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(c.jsxs)(B.a,{bg:"light",expand:"lg",sticky:"top",className:"shadow",style:{background:"rgb(237,133,70) linear-gradient(266deg, rgba(237,133,70,0.6601015406162465) 33%, rgba(243,188,230,0.5452556022408963) 100%)"},children:[Object(c.jsx)(B.a.Brand,{href:"",onClick:function(){e.onSceneSwitch("visionboard")},children:Object(c.jsx)("img",{src:U,width:"60",height:"30",className:"d-inline-block align-top ml-2\t",alt:"Twain logo"})}),Object(c.jsx)(B.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(B.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsx)(G.a,{className:"ml-auto",children:Object(c.jsxs)(I.a,{drop:"left",title:"User",children:[Object(c.jsx)(I.a.Item,{href:"",onClick:function(){return b.apply(this,arguments)},children:"Log Out"}),Object(c.jsx)(I.a.Item,{href:"",onClick:function(){e.onSceneSwitch("updatepassword")},children:"Change Password"})]})})})]})}var q=n(104),D=n(46),H=n(102);var z=function(e){return Object(c.jsx)(C.a,{className:"p-2 rounded-pill shadow",children:Object(c.jsxs)(C.a.Body,{className:"d-flex p-2 align-items-center",style:{justifyContent:"space-between"},children:[e.plan.title,Object(c.jsx)(H.a,{pill:!0,variant:"secondary",style:{color:"#fff"},children:e.plan.catagory})]})})};n(92);function J(){var e=p().currentUser,t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),l=o[0],j=o[1];Object(a.useEffect)((function(){var t=e.uid;h.database().ref("visionboard/"+t).on("value",(function(e){var t=e.val(),n=[];for(var c in t)n.push(Object(D.a)({id:c},t[c]));s(n)}))}),[e]);var b=r.filter((function(e){return""===l?e:e.catagory===l})).map((function(e){return Object(c.jsx)(z,{plan:e},e.id)}));return Object(c.jsxs)(g.a,{className:"mt-5",children:[Object(c.jsxs)(N.a,{className:"col-sm-3 ml-auto d-flex align-items-center",children:[Object(c.jsx)(N.a.Label,{className:"ml-auto",style:{fontSize:"12px"},children:"Filter by:"}),Object(c.jsxs)(N.a.Control,{className:"col-sm-6 ml-auto",as:"select",size:"sm",onChange:function(e){return j(e.target.value)},children:[Object(c.jsx)("option",{value:"",children:"unselect"}),Object(c.jsx)("option",{value:"Health",children:"Health"}),Object(c.jsx)("option",{value:"Romance",children:"Romance"}),Object(c.jsx)("option",{value:"Career",children:"Career"}),Object(c.jsx)("option",{value:"Financial",children:"Financial"}),Object(c.jsx)("option",{value:"Recreation",children:"Recreation"})]})]}),Object(c.jsx)("div",{className:" PlanList",children:r?b:""})]})}function T(){var e=p().currentUser,t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],i=function(){return s(!1)},o=Object(a.useRef)(),l=Object(a.useRef)();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{className:"col-md-6 mx-auto mt-5",children:Object(c.jsx)(N.a.Control,{size:"lg",type:"text",onClick:function(){return s(!0)},className:"rounded-pill",placeholder:"Any new idea ? Jog it down!"})}),Object(c.jsx)(J,{}),Object(c.jsxs)(q.a,{show:r,onHide:i,children:[Object(c.jsx)(q.a.Header,{closeButton:!0,children:Object(c.jsx)(q.a.Title,{children:"New Plan"})}),Object(c.jsx)(q.a.Body,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsxs)(N.a.Group,{children:[Object(c.jsx)(N.a.Label,{children:"Plan"}),Object(c.jsx)(N.a.Control,{name:"title",ref:o,type:"text",placeholder:"What's your plan",required:!0})]}),Object(c.jsxs)(N.a.Group,{children:[Object(c.jsx)(N.a.Label,{children:"Category"}),Object(c.jsxs)(N.a.Control,{as:"select",ref:l,required:!0,children:[Object(c.jsx)("option",{value:"Health",children:"Health,Fitness and Beauty"}),Object(c.jsx)("option",{value:"Romance",children:"Family,Friends and Romance"}),Object(c.jsx)("option",{value:"Career",children:"Career,Bussiness and Study"}),Object(c.jsx)("option",{value:"Financial",children:"Financial"}),Object(c.jsx)("option",{value:"Recreation",children:"Fun, Recreation and Travel"})]})]})]})}),Object(c.jsxs)(q.a.Footer,{children:[Object(c.jsx)(P.a,{variant:"secondary",style:{color:"#fff"},onClick:i,children:"Close"}),Object(c.jsx)(P.a,{variant:"primary",style:{color:"#fff"},onClick:function(t){t.preventDefault();var n=e.uid,c=h.database().ref("visionboard/"+n),a={title:o.current.value,catagory:l.current.value};c.push(a),i()},children:"Submit"})]})]})]})}function W(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),s=p(),i=s.currentUser,o=s.updatePassword,b=s.updateEmail,d=Object(a.useState)(""),h=Object(u.a)(d,2),O=h[0],f=h[1],m=Object(a.useState)(!1),v=Object(u.a)(m,2),w=v[0],y=v[1],S=function(e){f(e)};function R(){return(R=Object(j.a)(l.a.mark((function c(a){var s;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){c.next=3;break}return c.abrupt("return",f("Passwords do not match"));case 3:s=[],f(""),y(!0),t.current.value!==i.email&&s.push(b(t.current.value)),n.current.value,S&&s.push(o(n.current.value,S)),Promise.all(s).then((function(){e.onSceneSwitch("visionboard")})).catch((function(){f(O)})).finally((function(){f(""),y(!0)}));case 9:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(c.jsx)(g.a,{className:"d-flex justify-content-center align-items-center",children:Object(c.jsxs)(C.a,{className:"p-2 shadow col-md-5 m-5",children:[Object(c.jsxs)(C.a.Body,{children:[Object(c.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),O&&Object(c.jsx)(k.a,{variant:"danger",children:O}),Object(c.jsxs)(N.a,{onSubmit:function(e){return R.apply(this,arguments)},children:[Object(c.jsxs)(N.a.Group,{id:"email",children:[Object(c.jsx)(N.a.Label,{children:"Email"}),Object(c.jsx)(N.a.Control,{type:"email",ref:t,defaultValue:i.email})]}),Object(c.jsxs)(N.a.Group,{id:"password",children:[Object(c.jsx)(N.a.Label,{children:"Password"}),Object(c.jsx)(N.a.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),Object(c.jsxs)(N.a.Group,{id:"password-confrim",children:[Object(c.jsx)(N.a.Label,{children:"Password Confrimation"}),Object(c.jsx)(N.a.Control,{type:"password",ref:r,required:!0,placeholder:"Leave blank to keep the same"})]}),Object(c.jsx)(P.a,{disable:w,style:{color:"#fff"},className:"w-100 btn-lg",type:"submit",children:"Update"})]})]}),Object(c.jsx)("div",{className:"w-100 text-center mb-2",children:Object(c.jsx)(x.b,{to:"",onClick:function(){e.onSceneSwitch("visionboard")},children:"Cancel"})})]})})}function M(){var e=Object(a.useState)("visionboard"),t=Object(u.a)(e,2),n=t[0],r=t[1],s=function(e){r(e)};return Object(c.jsxs)("div",{style:{height:"100vh"},children:[Object(c.jsx)(A,{onSceneSwitch:s}),"visionboard"===n&&Object(c.jsx)(T,{}),"updatepassword"===n&&Object(c.jsx)(W,{onSceneSwitch:s})]})}var K=n(74);function Z(e){var t=e.component,n=Object(K.a)(e,["component"]),a=p().currentUser;return console.log("in private Route"),Object(c.jsx)(m.b,Object(D.a)(Object(D.a)({},n),{},{render:function(e){return a?Object(c.jsx)(t,Object(D.a)({},e)):Object(c.jsx)(m.a,{to:"/"})}}))}var V=function(){return Object(c.jsx)(x.a,{children:Object(c.jsx)(f,{children:Object(c.jsxs)(m.d,{children:[Object(c.jsx)(m.b,{exact:!0,path:"/",component:E}),Object(c.jsx)(Z,{path:"/twain",component:M})]})})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.1ce402ac.chunk.js.map